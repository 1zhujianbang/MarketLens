# MarketLens 项目升级执行计划 - 阶段二：核心升级与集成

## 阶段目标
聚焦动态与发展图谱，实现知识的演化模拟，从静态图谱向动态图谱转变。

## 具体执行计划

### 1. 动态图谱构建

#### 1.1 实体-实体-事件发展图谱
  - 设计时间函数模型：关系状态(实体A, 实体B, 时间T) = F(初始状态, 事件序列)
  - 集成 GDELT 的 GoldsteinScale 量化变化
  - 实现关系强度动态计算
  - 开发关系演化可视化组件

#### 1.2 事件-实体发展图谱
  - 建模因果链：核心事件触发实体状态级联
  - 集成 NumMentions 评估传播影响力
  - 实现事件影响传播分析
  - 开发实体状态跟踪功能

#### 1.3 时序数据分析
  - 利用 GDELT 的 SQLDATE 排序事件链
  - 实现"实体生命轨迹"查询功能
  - 开发时间窗口分析工具
  - 构建事件序列模式识别模块

### 2. Pipeline 优化

#### 2.1 分布式任务支持
  - 集成 Celery 实现分布式任务处理
  - 设计任务队列管理机制
  - 实现任务负载均衡
  - 开发任务监控和失败重试机制

#### 2.2 CI/CD 集成
  - 集成 GitHub Actions 实现持续集成
  - 配置自动化测试流程
  - 实现代码质量检查
  - 设置自动化部署流水线

#### 2.3 监控系统建设
  - 集成 Prometheus + Grafana 监控系统
  - 设计数据流追踪机制
  - 实现性能指标监控
  - 开发告警机制和仪表板

### 3. 可视化与 UI 升级

#### 3.1 图谱可视化升级
  - 从 PyVis 升级到 Neo4j Bloom
  - 实现无代码交互探索功能
  - 开发 3D 布局展示
  - 实现路径查询功能

#### 3.2 移动端 UI 开发
  - 使用 React 构建移动端友好 UI
  - 实现事件链回溯功能
  - 开发实体轨迹可视化
  - 优化移动端用户体验

#### 3.3 交互功能增强
  - 设计交互式探索界面
  - 实现图表筛选和钻取功能
  - 开发自定义视图保存功能
  - 优化用户操作流程

## 里程碑交付物
1. 动态图谱构建完成
2. 分布式 Pipeline 系统
3. 全新可视化界面
4. 完整监控体系

## 风险评估与应对措施
- **性能瓶颈**: 优化图数据库查询性能，使用索引和缓存
- **数据一致性**: 实现分布式事务和数据同步机制
- **用户体验**: 进行多轮用户测试和反馈收集

## 资源需求
- 云资源: 增加计算实例和存储资源
- 第三方服务: Neo4j Bloom 许可证